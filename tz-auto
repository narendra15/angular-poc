transform(rawTs: string): string {
  const zoneMap: Record<string, string> = {
    EST: 'America/New_York',
    PST: 'America/Los_Angeles',
    MST: 'America/Denver',
    CST: 'America/Chicago',
    AST: 'America/Halifax',
    UTC: 'UTC'
  };
  const displayZone = zoneMap[this.selectedTimezone] ?? 'UTC';

  // 1. Remove the bogus “Z”
  const clean = rawTs.endsWith('Z') ? rawTs.slice(0, -1) : rawTs;

  // 2. Parse the numbers *as* America/New_York time
  const ny = DateTime.fromISO(clean, { zone: 'America/New_York', setZone: true });
  if (!ny.isValid) return 'Invalid timestamp';

  // 3. Convert to the chosen display zone
  const shown = ny.toUTC().setZone(displayZone);

  return shown.toFormat("yyyy-LL-dd HH:mm:ss z");   // or your custom format
}
